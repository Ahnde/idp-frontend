BNF - Grammar for FormSpecification


FORM =  { 
          element_id: ID, 
          element_type: "form",
          title: STRING,
          metadata : FORM_METADATA,
          children:[CHILD *] 
        }

CHILD = CONTAINER | DESCRIPTION | INTERACTIVE

CONTAINER = {
              element_id: ID, 
              element_type: "container",
              container_type: "normal" | "tab" | "repeating"
              label: "STRING",
              display_inline: true | false,
              children:[CHILD +]
            }

DESCRIPTION = {
                element_id: ID,
                element_type: "description"
                description_type: "text" | "image" | "video"

                (text: STRING | urls: [ URL *] ,)?
              }

#this is the interactive element (like a textfield or a checkbox)
INTERACTIVE = {
                element_id: ID,
                element_type  : "interactive"
                interactive_type: INTERACTIVE_TYPE,
                mapping_key : MAPPING_KEY,
                validators: [VALIDATOR +],
                interactive_details: [INTERACTIVE_DETAIL *]
              }

INTERACTIVE_DETAIL = {
                        (label: STRING, )?
                        (post_label: STRING, )?
                        (length: INTEGER, )?
                        (placeholder: STRING, )?
                        (input_type: INPUT_TYPE, )?
                        (date_format: DATE_FORMAT, )?
                        (options: [OPTION +], )?
                        (default_option: INTEGER )?
                      }

OPTION = {
            label: STRING
         }


INTERACTIVE_TYPE = "textarea" | "input"    | "date"     | "number" | 
                   "radio"    | "dropdown" | "checkbox"


INPUT_TYPE = "text"


VALIDATOR = {
              element_id: ID,
              validator_name: STRING,
              validator_type: VALIDATOR_TYPE,
              message: STRING,
              expression: REGEX,
              cross_key: MAPPING_KEY,
              validator_action: VALIDATOR_ACTION
            }
            
VALIDATOR_ACTION = "disable" | "hide" | "message"

VALIDATOR_TYPE = "isRequired" | "minLength" | "maxLength" | "minDate" | 
                 "maxDate"    | "regex"

DATE_FORMAT = {
                format: "..." //iso standard,
                default: "DD/MM/YYYY"
              }

FORM_METADATA = {
                  form_id: ID,
                  title: STRING,
                  version: VERSION,
                  creation_date: DATE,
                  last_modified_date: DATE,
                  is_template: BOOL,
                  (category: STRING, )?
                  (creator: STRING )?
                }

VERSION = {
            type: "productive" | "beta" | "alpha"
            version_number: DOUBLE
            default: 1.0
          }

MAPPING_KEY = STRING
ID = STRING

FUNCTION = "..."
REGEX = "..."
DATE = "..."

URL = STRING
STRING = [a-zA-Z0-9]*
DOUBLE = INTEGER,INTEGER
INTEGER = [1-9][0-9]*
BOOL = true | false
